<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.296">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Quarto Computations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="TD_Graphe copy_files/libs/clipboard/clipboard.min.js"></script>
<script src="TD_Graphe copy_files/libs/quarto-html/quarto.js"></script>
<script src="TD_Graphe copy_files/libs/quarto-html/popper.min.js"></script>
<script src="TD_Graphe copy_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="TD_Graphe copy_files/libs/quarto-html/anchor.min.js"></script>
<link href="TD_Graphe copy_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="TD_Graphe copy_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="TD_Graphe copy_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="TD_Graphe copy_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="TD_Graphe copy_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Quarto Computations</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="numpy" class="level2">
<h2 class="anchored" data-anchor-id="numpy">NumPy</h2>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.arange(<span class="dv">15</span>).reshape(<span class="dv">3</span>, <span class="dv">5</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>array([[ 0,  1,  2,  3,  4],
       [ 5,  6,  7,  8,  9],
       [10, 11, 12, 13, 14]])</code></pre>
</div>
</div>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>??? tip “Problème des 7 ponts de Königsberg” Le problème des sept ponts de Königsberg est connu pour être à l’origine de la topologie et de la théorie des graphes. Résolu par Leonhard Euler en 17351, ce problème mathématique se présente de la façon suivante :</p>
<pre><code>![](data/Konigsberg_bridges.png) -&gt; ![](data/7_bridges1.png) -&gt; ![](data/K%C3%B6nigsberg_graph.png)

La ville de Königsberg (aujourd'hui Kaliningrad) est construite autour de deux îles situées sur le Pregel et reliées entre elles par un pont. Six autres ponts relient les rives de la rivière à l'une ou l'autre des deux îles, comme représentés sur le plan ci-dessus. Le problème consiste à déterminer s'il existe ou non une promenade dans les rues de Königsberg permettant, à partir d'un point de départ au choix, de passer une et une seule fois par chaque pont, et de revenir à son point de départ, étant entendu qu'on ne peut traverser le Pregel qu'en passant sur les ponts.

Source wikipédia</code></pre>
<p>Initiée par le grand mathématicien suisse <strong>Euler</strong>, avec le célèbre problème des 7 ponts de Königsberg, les applications de la théorie des graphes et de la recherche opérationnelle sont aujourd’hui immenses tant au plan civil que militaire :</p>
<ul>
<li>aide à la prise de décision ;<br>
</li>
<li>recherche de la meilleure stratégie ;</li>
<li>optimisation (plus court chemin, GPS, coût minimal, ordonnancement des tâches …) ;<br>
</li>
<li>réseaux de transports (autoroutes, chemins de fer, métro, lignes aériennes …) ;<br>
</li>
<li>transport de l’énergie (électricité, gaz ...) ;<br>
</li>
<li>transport de l’informations : internet, réseaux sociaux …</li>
</ul>
</section>
<section id="notion-de-graphe-et-vocabulaire" class="level2">
<h2 class="anchored" data-anchor-id="notion-de-graphe-et-vocabulaire">Notion de graphe et vocabulaire</h2>
<p>La théorie des graphes n’est pas une branche indépendante des mathématiques, elle se rattache à la programmation linéaire, la programmation convexe (où le concept plus général de fonction convexe remplace les fonctions linéaires et affines), le calcul des probabilités.<br>
Les graphes sont une <strong><em>structure de données</em></strong> très riche permettant de <strong><em>modéliser des situations variées de relations</em></strong> entre un ensemble d’entités.</p>
<p>Le concept de graphe permet de résoudre de nombreux problèmes en mathématiques comme en informatique. C’est un outil de représentation très courant, et nous l’avons déjà rencontré à plusieurs reprises, en particulier lors de l’étude de réseaux.</p>
<p>!!! note “Exemples de situations” === “Réseau informatique” <img src="data/22J2AS1_ex2.png" class="quarto-discovered-preview-image img-fluid">{: .center width=640}</p>
<pre><code>=== "Réseau de transport"

    ![](data/carte-metro-parisien-768x890.jpg){: .center width=640} 

=== "Réseau social"
    ![](data/graphe_RS.png){: .center width=640} 

=== "Mais aussi"
    On trouve également des applications de la théorie des graphes dans bien d'autres domaines: ...</code></pre>
<p>!!! jeretiens “Ce qu’il faut retenir” D’un point de vue mathématique, un graphe est la donnée</p>
<pre><code>- d’un certain nombre de points du plan, appelés **_sommets_** ,  
- certains étant reliés par des segments de droites ou de courbes     (simples) appelés **_arêtes_** ,  
- la disposition des sommets et la forme choisie pour les arêtes n’intervenant pas.  
- Le nombre de sommets du graphe est son **_ordre_**.  </code></pre>
<section id="graphe-non-orienté" class="level3">
<h3 class="anchored" data-anchor-id="graphe-non-orienté">Graphe non orienté</h3>
<p>Sauf indication contraire, un graphe sera considéré comme non orienté et les arêtes pourront être parcourues dans les deux sens.</p>
<p><img src="data/exemple_graphe.png" class="img-fluid">{:.center width=480}</p>
<p>!!! jeretiens “Ce qu’il faut retenir” Dans le cas des graphes non orientés, les relations entre deux sommets se font dans les deux sens. On appelle ses relations des arêtes (edges en anglais), et on a les définitions suivantes :</p>
<pre><code>- **_Sommets adjacents_** : deux sommets sont adjacents s’ils sont reliés entre eux par une arête.  
On dit que l’arête est incidente aux deux sommets.  
- **_Voisins d’un sommet x_** : ce sont tous les sommets reliés à x par une arête.  
- **_Degré d’un sommet x_** : nombre d’arêtes incidentes au sommet, on le note d (x).  
- **_Chaîne_** : séquence ordonnée d’arêtes telle que chaque arête a une extrémité en commun avec l’arête suivante.  
- **_Cycle_** : dans un graphe non orienté, un cycle est une suite d’arêtes consécutives (chaîne) dont les deux sommets extrémités sont identiques.  
- **_Boucle_** : il peut exister des arêtes entre un sommet x et lui-même. Elles sont appelés boucles.  </code></pre>
<p><img src="data/graphe11.png" class="img-fluid">{:.center width=450px}</p>
<p>!!! exo “Exercice 1” - Citer des sommets adjacents.<br>
- Donner le degré de chacun des sommets.<br>
- Citer une chaîne.<br>
- Donner un cycle.<br>
- Y-t-il une boucle ?</p>
</section>
<section id="graphe-orienté" class="level3">
<h3 class="anchored" data-anchor-id="graphe-orienté">Graphe orienté</h3>
<p><img src="data/exemple_graphe_oriente.png" class="img-fluid">{: .center width=480}</p>
<ul>
<li><p>Dans un graphe <strong>orienté</strong>, les <em>arcs</em> ne peuvent être empruntés que dans le sens de la flèche, et un <em>chemin</em> est une suite de sommets reliés par des arcs, comme B → C → D → E par exemple.</p></li>
<li><p>Les sommets C et D sont <em>adjacents</em> au sommet B (mais pas A !), ce sont les <em>voisins</em> de B.</p></li>
</ul>
<p>!!! jeretiens “Ce qu’il faut retenir” Dans le cas des graphes orientés, les arêtes ont un sens et elles sont appelées arcs. Par exemple,<br>
l’arête a = (x, y) indique qu’il y a un arc d’origine x et d’extrémité finale y. De plus, on a les définitions suivantes.</p>
<pre><code>- **_Successeurs et prédécesseurs d’un sommet x_** : dans un graphe orienté on ne parle plus de voisins d’un sommet mais de ses successeurs et de ses prédécesseurs : le successeurs de x sont tous les sommets y tels qu’il existe un arc (x, y) (de x vers y) et les prédécesseurs de x sont tous les sommets w tels qu’il existe un arc (w, x) (de w vers x).  
-  **_Chemin_** : séquence ordonnée d’arcs consécutifs (on parlait de chaîne dans un graphe non orienté).  
- **_Circuit_** : dans un graphe orienté, un circuit est une suite d’arcs consécutifs (chemin) dont les deux sommets extrémités sont identiques.  
- **_Degré d’un sommet x_** : cette notion existe aussi dans le cas des graphes orientés. On distingue le degré entrant d’un sommet x (noté $d_-(x)$= nombre de prédécesseurs de x) et le degré sortant d’un sommet x (noté $d_+(x)$= nombre de successeurs de x ). Le degré d’un sommet x vaut $d (x) = d_+(x) + d_-(x)$.  
• **_Boucle_** : ce sont les arcs entre un sommet et lui-même.</code></pre>
</section>
<section id="graphe-pondéré" class="level3">
<h3 class="anchored" data-anchor-id="graphe-pondéré">Graphe pondéré</h3>
<p><img src="data/exemple_graphe_pondere.png" class="img-fluid">{: .center width=480}</p>
<ul>
<li>Un graphe est <strong>pondéré</strong> (ou valué) si on attribue à chaque arête une valeur numérique (la plupart du temps positive), qu’on appelle <em>mesure</em>, <em>poids</em>, <em>coût</em> ou <em>valuation</em>.</li>
</ul>
<p>Par exemple:</p>
<ul>
<li>dans le protocole OSPF, on pondère les liaisons entre routeurs par le coût;<br>
</li>
<li>dans un réseau routier entre plusieurs villes, on pondère par les distances.</li>
</ul>
</section>
</section>
<section id="réseaux-sociaux-modélisation-par-un-graphe" class="level2">
<h2 class="anchored" data-anchor-id="réseaux-sociaux-modélisation-par-un-graphe">Réseaux sociaux : modélisation par un graphe</h2>
<p>Au premier trimestre 2020, Facebook© revendiquait 2,6 milliards d’utilisateurs actifs chaque mois, en hausse de 9,2% par rapport à début 2019. Le réseau social américain a passé la barre symbolique des 2 milliards au deuxième trimestre 2017. A noter que 42% des utilisateurs actifs mensuels de Facebook viennent d’Asie-Pacifique, 15,6% sont Européens et 9,7% sont Nord-américains. Facebook permet à ses utilisateurs d’entrer des informations personnelles et d’interagir avec d’autres utilisateurs. Les interactions entre utilisateurs reposent sur la notion « d’amis ».</p>
<section id="principe-de-la-modélisation-par-un-graphe-non-orienté" class="level3">
<h3 class="anchored" data-anchor-id="principe-de-la-modélisation-par-un-graphe-non-orienté">Principe de la modélisation par un graphe non orienté</h3>
<p>Imaginez un réseau social ayant 7 abonnés (L, M, N, O, P, Q et R) où :</p>
<ul>
<li><p>L est ami avec M, N, O et P ;</p></li>
<li><p>M est ami avec L et P ;</p></li>
<li><p>N est ami avec L, O et P ;</p></li>
<li><p>O est ami avec L,N,P,Q et R ;</p></li>
<li><p>P est ami avec O,L et M ;</p></li>
<li><p>Q est ami avec N et O ;</p></li>
<li><p>R est ami avec O.</p></li>
</ul>
<p>La description de ce réseau social, malgré son faible nombre d’abonnés, est déjà quelque peu compliquée, alors imaginez cette même description avec un réseau social comportant des millions d’entre eux !<br>
Il existe un moyen plus “visuel” pour représenter ce réseau social :<br>
on peut représenter chaque abonné par un cercle (avec le nom de l’abonné situé dans le cercle) et chaque relation “X est ami avec Y” par un segment de droite reliant X et Y (“X est ami avec Y” et “Y est ami avec X” étant représenté par le même segment de droite). Le mini-réseau social décrit précédemment peut être modélisé sous la forme du graphe ci-dessous :</p>
<p><img src="data/graphe14.png" class="img-fluid"></p>
</section>
</section>
<section id="implémentation---matrice-dadjacence" class="level2">
<h2 class="anchored" data-anchor-id="implémentation---matrice-dadjacence">Implémentation - Matrice d’adjacence</h2>
<p>{{ titre_activite(“Implémentation avec matrice d’adjacence”,[],0) }}</p>
<ol type="1">
<li><p>Principe de l’implémentation<br>
On prend l’exemple du graphe orienté suivant :</p>
<p><img src="data/graphe21.png" class="img-fluid">{:.center}</p>
<ol type="a">
<li>Recopier et compléter le tableau suivant dans lequel les lignes et les colonnes représentent les sommets et dans lequel on indique par un <strong>1</strong> la présence d’une arête allant du sommet de la ligne vers celui de la colonne et par <strong>0</strong> son absence</li>
</ol>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">A</th>
<th style="text-align: center;">B</th>
<th style="text-align: center;">C</th>
<th style="text-align: center;">D</th>
<th style="text-align: center;">E</th>
<th style="text-align: center;">F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">A</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td style="text-align: center;">B</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">D</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">E</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">F</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>!!! note Si on numérote les sommets du graphe (A le numéro 1, B le numéro 2, …), il n’est plus nécessaire d’indiquer les noms des sommets sur les lignes et les colonnes.</p>
<ol start="2" type="a">
<li>De façon générale, une <strong>matrice</strong> en mathématiques est un tableau de nombres, ici, on a donc représenté notre graphe par une matrice appelé <strong>matrice d’adjacence</strong> de ce graphe :</li>
</ol>
<span class="math display">\[\begin{pmatrix}
0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\
\dots &amp; \dots  &amp; \dots &amp; \dots &amp; \dots &amp; \dots \\
\dots &amp; \dots  &amp; \dots &amp; \dots &amp; \dots &amp; \dots \\
\dots &amp; \dots  &amp; \dots &amp; \dots &amp; \dots &amp; \dots \\
\dots &amp; \dots  &amp; \dots &amp; \dots &amp; \dots &amp; \dots \\
\end{pmatrix}\]</span>
<p>En nommant les sommets A, B, C, D et E dessiner le graphe dont la matrice d’adjacence est :</p>
<span class="math display">\[\begin{pmatrix}
0 &amp; 1 &amp; 1 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 &amp; 1\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
1 &amp; 1 &amp; 1 &amp; 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 1 &amp; 0\\
\end{pmatrix}\]</span>
<ol start="3" type="a">
<li><p>Que peut-on dire d’un graphe dont la matrice d’adjacence est symétrique par rapport à sa diagonale principale ?</p></li>
<li><p>Proposer une méthode pour représenter un graphe pondéré par une matrice d’adjacence.</p></li>
</ol></li>
<li><p><strong>Implémentation en python</strong><br>
On s’inspire de ce qui a été fait pour les arbres et on utilisera la {{sc(“poo”)}} pour représenter un graphe par sa matrice d’adjacence. Enfin, on suppose qu’on implémente des graphes orientés.</p>
<ol type="1">
<li>Pour le constructeur de la classe Graphe, on propose de fournir uniquement les sommets et de créer l’objet graphe ayant sa matrice d’adjacence vide initialement. De plus on ajoute un attribut <code>taille</code> au graphe. Compléter le code ci-dessous :</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Graphe:</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>,sommets):</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.sommets<span class="op">=</span>sommets</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.taille <span class="op">=</span> <span class="bu">len</span>(......)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.matrice <span class="op">=</span> .............  <span class="co">#construction par compréhension avec que des 0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li><p>Poursuivre cette implémentation en ajoutant une méthode d’ajout d’une arête.</p>
<p>!!! aide * Cette méthode prend en paramètre l’origine et l’extrémité de l’arête à ajouter. * On pourra vérifier que l’origine et l’extrémité sont bien dans la liste de sommets et rechercher leur position grâce à la méthode <code>index</code> des listes de python.</p></li>
<li><p>Ajouter une méthode de suppression d’une arête</p></li>
<li><p>Ajouter une méthode d’affichage de la matrice d’adjacence</p></li>
<li><p>Ecrire la méthode <code>voisins</code> qui prend en paramètre un sommet et renvoie la liste de ses voisins.</p></li>
</ol></li>
</ol>
<p>{{ titre_activite(“Implémentation avec des listes d’adjacences”,[]) }}</p>
<ol type="1">
<li><p><strong>Principe de l’implémentation</strong><br>
On reprend l’exemple du graphe orienté déjà utilisé à l’activité précédente</p>
<p><img src="data/graphe21.png" class="img-fluid">{:.center}</p>
<ol type="a">
<li>Compléter le schéma suivant où on a fait figuré à côté de chaque sommet la liste des sommets adjacents :</li>
</ol>
<ul>
<li><code>A : B,F</code></li>
<li><code>B : ...</code></li>
<li><code>C : ...</code></li>
<li><code>. : ...</code></li>
<li><code>. : ...</code></li>
<li><code>. : ...</code></li>
</ul>
<ol start="2" type="a">
<li>Dessiner le graphe dont la représentation par liste d’adjacence est :</li>
</ol>
<ul>
<li><code>R : S</code></li>
<li><code>S : R,T,U,V</code></li>
<li><code>T : V</code></li>
<li><code>U : None</code></li>
<li><code>V : R,U</code></li>
</ul></li>
<li><p>Implémentation en Python<br>
On donne ci-dessous le constructeur d’une classe <code>Graphe</code> qui implémente les graphes sous la forme de listes d’adjacence :</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Graphe:</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>,sommets):</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.taille <span class="op">=</span> <span class="bu">len</span>(sommets)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.listes <span class="op">=</span> {}</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> s <span class="kw">in</span> sommets:</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.listes[s]<span class="op">=</span>[]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="a">
<li><p>Quel est le type de l’attribut <code>listes</code> d’un objet de la classe <code>Graphe</code> ?</p></li>
<li><p>On suppose qu’on crée un objet de la classe <code>Graphe</code> en donnant en paramètre la liste <code>["A","B","C","D"]</code>. Quel est alors le contenu de l’attribut <code>listes</code> de cet objet ?</p></li>
<li><p>Poursuivre cette implémentation en ajoutant une méthode d’ajout d’une arête.</p></li>
<li><p>Ajouter une méthode de suppression d’une arête</p></li>
<li><p>Proposer une méthode permettant d’ajouter un sommet.</p></li>
<li><p>Proposer une méthode permettant de supprimer un sommet.</p></li>
<li><p>Ecrire la méthode <code>voisins</code> qui prend en paramètre un sommet et renvoie la liste de ses voisins.</p></li>
</ol></li>
</ol>
<p>{{ titre_activite(“Parcours d’un graphe”,[]) }}</p>
<ol type="1">
<li><p>Visualisation d’un parcours <em>depth first search</em><br>
Un <a href="https://workshape.github.io/visual-graph-algorithms/#dfs-visualisation" target="_blank">outil en ligne</a>, permet de visualiser le résultat du parcours en profondeur d’un graphe. Un graphe est donné en exemple, mais vous pouvez le modifier ou construire le votre. <a href="https://workshape.github.io/visual-graph-algorithms/#dfs-visualisation" target="_blank"><img src="data/dfs.png" class="img-fluid" alt="dfs">{: width=600px .imgcentre}</a></p>
<p>!!! attention Dans les menus déroulants, bien choisir Alorithme : <strong>DFS</strong> et Example graph : <strong>directedGraph</strong></p></li>
<li><p>Visualisation d’un parcours <em>breadth first search</em><br>
Ce même <a href="https://workshape.github.io/visual-graph-algorithms/#bfs-visualisation" target="_blank">outil en ligne</a>, permet de visualiser le résultat du parcours en largeur d’un graphe. Un graphe est donné en exemple, mais vous pouvez le modifier ou construire le votre : <a href="https://workshape.github.io/visual-graph-algorithms/#bfs-visualisation" target="_blank"><img src="data/bfs.png" class="img-fluid" alt="dfs">{: width=600px .imgcentre}</a></p>
<p>!!! attention Dans les menus déroulants, bien choisir Alorithme : <strong>BFS</strong> et Example graph : <strong>directedGraph</strong></p></li>
<li><p>On considère le graphe suivant :<br>
</p>
<div class="centre">
<code>mermaid     graph LR     A(("A"))     B(("B"))     C(("C"))     D(("D"))     E(("E"))     F(("F"))     G(("G"))     A --&gt; B     A --&gt; C     B --&gt; D     C --&gt; F     C --&gt; G     E --&gt; G     A --&gt; E     D --&gt; F     G --&gt; F     B --&gt; C</code>
</div>
<ol type="a">
<li><p>Prévoir l’ordre de parcours pour un parcours en profondeur en commençant par le sommet <code>A</code>. Vérifier en testant dans l’outil en ligne.</p></li>
<li><p>Même question pour un parcours en largeur.</p></li>
</ol></li>
</ol>
</section>
<section id="exercices" class="level2">
<h2 class="anchored" data-anchor-id="exercices">Exercices :</h2>
<p>{{ exo(“Vocabulaire sur les graphes”,[],0) }}</p>
On considère le graphe suivant :
<div class="centre">
<pre class="mermaid"><code>graph LR
A(("A"))
B(("B"))
C(("C"))
D(("D"))
E(("E"))
F(("F"))
G(("G"))
H(("H"))
A --- B
A --- C
C --- F
C --- G
E --- G
G --- F
B --- E
C --- H
B --- D
D --- C</code></pre>
<pre><code>&lt;/div&gt;</code></pre>
<ol type="1">
<li>Ce graphe est-il orienté ? simple ? complet ? pondéré ?<br>
</li>
<li>Donner la liste des voisins de <code>C</code>.<br>
</li>
<li>Quel est le degré de <code>G</code> ?<br>
</li>
<li>Quels sont les sommets adjacents à <code>A</code> ?</li>
</ol>
<p>{{ exo(“Graphe complet”,[]) }}</p>
<ol type="1">
<li><p>Rappeler la définition d’un graphe <em>complet</em><br>
</p></li>
<li><p>Dessiner un graphe complet à cinq noeuds.<br>
</p></li>
<li><p>Combien d’arêtes possède ce graphe ?<br>
</p></li>
<li><p>Donner la matrice d’adjacence de ce graphe.<br>
</p></li>
<li><p>Quel est le nombre d’arêtes d’un graphe complet à <span class="math inline">\(n\)</span> noeuds ?</p>
<p>!!! aide On pourra utiliser sans avoir à le prouver que : $ 1 + 2 + + n = $</p></li>
</ol>
<p>{{ exo(“Représentation par matrice d’adjacence”,[]) }}</p>
<ol type="1">
<li><p>Donner la matrice d’adjacence du graphe suivant :</p>
<div class="centre">
<code>mermaid     graph LR     A(("A"))     B(("B"))     C(("C"))     D(("D"))     E(("E"))     A --- B     A --- C     C --- E     D --- E     B --- C     C --- D</code>
</div></li>
<li><p>Dessiner le graphe dont la matrice d’adjacence est :</p>
<span class="math display">\[\begin{pmatrix}
0 &amp; 1 &amp; 1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 &amp; 1 \\
1 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 1 &amp; 1 &amp; 0 &amp; 0 \\
0 &amp; 1 &amp; 1 &amp; 0 &amp; 0 \\
\end{pmatrix}\]</span></li>
</ol>
<p>{{ exo(“Représentation par listes d’adjacence”,[]) }}</p>
<ol type="1">
<li><p>Donner la représentation sous forme de listes d’adjacences du graphe suivant :</p>
<div class="centre">
<code>mermaid     graph LR     A(("A"))     B(("B"))     C(("C"))     D(("D"))     E(("E"))     A --- B     A --- C     C --- E     D --- E     B --- C     C --- D</code>
</div></li>
<li><p>Dessiner le graphe dont la représentation sous forme de listes d’adjacence est :</p>
<ul>
<li>A : [B]</li>
<li>B : [C,D,E]</li>
<li>C : [F]</li>
<li>D : [F]</li>
<li>E : [F]</li>
</ul></li>
</ol>
<p>{{ exo(“Parcours d’un graphe”,[]) }}</p>
On considère le graphe suivant :
<div class="centre">
<pre><code>```mermaid
graph LR
A(("A"))
B(("B"))
C(("C"))
D(("D"))
E(("E"))
F(("F"))
G(("G"))
A --&gt; B
A --&gt; C
G --&gt; E
C --&gt; D
D --&gt; F
B --&gt; E
E --&gt; F
A --&gt; G
```
&lt;/div&gt;</code></pre>
<ol type="1">
<li>Donner l’ordre de parcours des sommets pour un parcours en largeur en partant de A</li>
<li>Même question pour un parcours en profondeur</li>
</ol>
<p>{{ exo(“Implémentation par matrice d’adjacence”,[]) }}</p>
<ol type="1">
<li><p>Récupérer, et revoir l’implémentation des graphes réalisée précédement :<br>
{{ telecharger(“Implémentation graphes par matrice”,“../files/C22/graphes_matrice.py”)}}</p></li>
<li><p>Utiliser cette implémentation pour créer le graphe de sommets <code>A,B,C,D,E</code> et dont la matrice d’adjacence est :</p>
<span class="math display">\[\begin{pmatrix}
0 &amp; 1 &amp; 1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1 &amp; 1 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
\end{pmatrix}\]</span></li>
<li><p>Ajouter la méthode <code>parcours_largeur</code> ci-dessous à cette implémentation en la complétant.</p></li>
</ol>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> parcours_largeur(<span class="va">self</span>,depart):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">assert</span> depart <span class="kw">in</span> <span class="va">self</span>.sommets</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        a_traiter <span class="op">=</span> [depart]</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        deja_vu <span class="op">=</span> [depart]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        pl  <span class="op">=</span> []</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> a_traiter <span class="op">!=</span> []:</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>            sommet <span class="op">=</span> a_traiter[<span class="dv">0</span>]</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>            voisins <span class="op">=</span> <span class="va">self</span>.get_voisin(sommet)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Ajout des sommets voisins non encore parcourus à ceux à traiter</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> v <span class="kw">in</span> .......:</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> v <span class="kw">not</span> <span class="kw">in</span> .....:</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>                    a_traiter......(v)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                    deja_vu.......(v)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>            pl.append(sommet)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>            a_traiter.....(<span class="dv">0</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="4" type="1">
<li><p>Reconnaître la structure de données utilisée pour la variable <code>a_traiter</code>, expliquer pourquoi le choix d’une liste n’est pas judicieux.</p></li>
<li><p>Ajouter la méthode <code>parcours_profondeur</code> ci-dessous à cette implémentation en la complétant.</p></li>
</ol>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> parcours_profondeur(<span class="va">self</span>,start,parcourus<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> parcourus <span class="op">==</span> <span class="va">None</span>:</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>            parcourus <span class="op">=</span> []</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        parcourus.append(start)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> v <span class="kw">in</span> <span class="va">self</span>...........(start):</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> v <span class="kw">not</span> <span class="kw">in</span> parcourus:</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                <span class="va">self</span>............(v,parcourus)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> parcourus</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="6" type="1">
<li><p>Proposer une méthode permettant d’ajouter un sommet.</p></li>
<li><p>Proposer une méthode permettant de supprimer un sommet.</p></li>
</ol>
<p>{{ exo(“Implémentation par listes d’adjacence”,[]) }}</p>
<p>Reprendre les questions de l’exercice précédent avec l’implémentation par liste d’adjacence :<br>
{{ telecharger(“Implémentation graphes par listes”,“../files/C22/graphes_liste.py”)}}</p>
</div></div></section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>